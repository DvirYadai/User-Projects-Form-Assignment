(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),s=a.n(r),i=(a(15),a(16),a(10)),l=a(3),o=a(7),u=a(4),j=a(2),d=a(0),b=Object(n.createContext)(),O=function(){return Object(n.useContext)(b)},f=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)([]),O=Object(l.a)(i,2),f=O[0],m=O[1],v=Object(n.useState)([]),h=Object(l.a)(v,2),p=h[0],x=h[1],N=Object(n.useState)({}),g=Object(l.a)(N,2),y=g[0],S=g[1],P={userName:r,updateUserName:function(e){s(e)},projectsName:f,addProjectName:function(e){""!==e?m((function(t){return[].concat(Object(o.a)(t),[e])})):alert("Project name cant be empty")},removeProjectName:function(e){var t=e.target.parentNode.innerText.slice(0,-1),a=f.indexOf(t);if(document.querySelectorAll("#project-details-form").forEach((function(e){e[1].options.selectedIndex===a+1&&e.reset()})),y.hasOwnProperty(t)){var n=Object.assign({},y);delete n[t],S(n)}m((function(e){return Object(o.a)(e).filter((function(e){return e!==t}))})),alert("Project name deleted successfully")},projectDetailsCount:p,addProjectDetailsCount:function(){0===p.length?x([1]):x((function(e){return[].concat(Object(o.a)(e),[p[p.length-1]+1])}))},removeProjectDetailsCount:function(e,t){if(x((function(t){return Object(o.a)(t).filter((function(t){return t!==e}))})),y.hasOwnProperty(t)&&"default-select-value"!==t){var a=Object.assign({},y);delete a[t],S(a)}},projectsDetails:y,addProjectsDetails:function(e,t,a){var n=e.target.value;if("projectName"===t)S((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},n,{details:"",durationValue:"",durationSelect:""}))}));else if("details"===t){if(""===a)return alert("Please select project name first"),void(e.target.value="");S((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},a,Object(j.a)(Object(j.a)({},e[a]),{},{details:n})))}))}else if("durationValue"===t){if(""===a)return alert("Please select project name first"),void(e.target.value="");S((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},a,Object(j.a)(Object(j.a)({},e[a]),{},{durationValue:n})))}))}else if("durationSelect"===t){if(""===a)return alert("Please select project name first"),void(e.target.value="");S((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(u.a)({},a,Object(j.a)(Object(j.a)({},e[a]),{},{durationSelect:n})))}))}}};return Object(d.jsx)(b.Provider,{value:P,children:t})},m=function(e){for(var t=e.jsonView,a=O(),n=a.projectsDetails,c=a.userName,r={},s=0,i=Object.entries(n);s<i.length;s++){var l=i[s];r[l[0]]={details:l[1].details,duration:"".concat(l[1].durationValue," ").concat(l[1].durationSelect)}}var o={Name:c,Projects:r};return Object(d.jsx)("div",{className:"form",style:{display:t?"block":"none"},children:Object(d.jsx)("pre",{children:JSON.stringify(o,null,2)})})},v=function(e){var t=e.item,a=O(),c=a.projectsName,r=a.removeProjectDetailsCount,s=a.addProjectsDetails,i=Object(n.useState)(""),o=Object(l.a)(i,2),u=o[0],j=o[1],b=Object(n.useState)(""),f=Object(l.a)(b,2),m=f[0],v=f[1],h=Object(n.useState)(""),p=Object(l.a)(h,2),x=p[0],N=p[1],g=Object(n.useState)(""),y=Object(l.a)(g,2),S=y[0],P=y[1],C=Object(n.useState)(""),k=Object(l.a)(C,2),D=k[0],w=k[1],V=function(e){if(""===e.target.value||"default-select-value"===e.target.value)switch(e.target.name){case"name-select":j("Please select a project");break;case"textarea":v("required");break;case"durationValue":N("required");break;case"durationSelect":P("required")}else switch(e.target.name){case"name-select":j("");break;case"textarea":v("");break;case"durationValue":N("");break;case"durationSelect":P("")}};return Object(d.jsx)("div",{className:"project-details-div",children:Object(d.jsxs)("form",{id:"project-details-form",children:[Object(d.jsx)("button",{type:"button",className:"project-details-remove",onClick:function(){return r(t,D)},children:"x"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Project: "}),Object(d.jsxs)("select",{onChange:function(e){s(e,"projectName"),w(e.target.value)},required:!0,defaultValue:"default-select-value",onBlur:function(e){return V(e)},name:"name-select",children:[Object(d.jsx)("option",{value:"default-select-value"},"default"),c.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))]}),Object(d.jsx)("div",{className:"error-div",children:u})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Details: "}),Object(d.jsx)("textarea",{cols:"30",rows:"5",required:!0,name:"textarea",onBlur:function(e){return V(e)},onChange:function(e){return s(e,"details",D)}}),Object(d.jsx)("div",{className:"error-div",children:m})]}),Object(d.jsxs)("div",{className:"duration-div",children:[Object(d.jsx)("div",{children:Object(d.jsx)("label",{children:"Duration: "})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"number",required:!0,name:"durationValue",onBlur:function(e){return V(e)},onChange:function(e){return s(e,"durationValue",D)}}),Object(d.jsx)("div",{className:"error-div",children:x})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{defaultValue:"default-select-value",required:!0,name:"durationSelect",onBlur:function(e){return V(e)},onChange:function(e){return s(e,"durationSelect",D)},children:[Object(d.jsx)("option",{value:"default-select-value"},"default"),Object(d.jsx)("option",{value:"days",children:"Days"},"days"),Object(d.jsx)("option",{value:"weeks",children:"Weeks"},"weeks"),Object(d.jsx)("option",{value:"months",children:"Months"},"months"),Object(d.jsx)("option",{value:"years",children:"Years"},"years")]}),Object(d.jsx)("div",{className:"error-div",children:S})]})]})]})})},h=function(e){var t=e.name,a=O().removeProjectName;return Object(d.jsxs)("span",{className:"project-name-span",children:[t,Object(d.jsx)("button",{type:"button",className:"project-name-button",onClick:function(e){return a(e)},children:"x"})]})},p=function(){var e=O(),t=e.projectsName,a=e.addProjectName,c=Object(n.useRef)("");return Object(d.jsxs)("div",{className:"projects-name-div",children:[Object(d.jsx)("label",{className:"label-block",children:"Projects"}),t.map((function(e,t){return Object(d.jsx)(h,{name:e},t)})),Object(d.jsx)("input",{type:"text",placeholder:"Enter your project name",ref:c,name:"projectNameInput"}),Object(d.jsx)("button",{type:"button",className:"add-project-name-button",onClick:function(){return a(c.current.value)},children:"\u2795"})]})},x=function(){var e=O(),t=e.addProjectDetailsCount,a=e.projectDetailsCount,c=e.updateUserName,r=e.userName,s=e.projectsDetails,o=Object(n.useState)(""),u=Object(l.a)(o,2),j=u[0],b=u[1],f=Object(n.useState)(!1),h=Object(l.a)(f,2),x=h[0],N=h[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(s);for(var t={},a=0,n=Object.entries(s);a<n.length;a++){var c=n[a];t[c[0]]={details:c[1].details,duration:"".concat(c[1].durationValue," ").concat(c[1].durationSelect)}}var l={Name:r,Projects:t},o=Object.entries(l.Projects);if(console.log(o),0!==o.length){var u,j=Object(i.a)(o);try{for(j.s();!(u=j.n()).done;){var d=u.value;if(""===d[1].details||""===d[1].duration.split(" ")[0]||""===d[1].duration.split(" ")[1])return void alert("You have to add details and duration for all the projects details")}}catch(b){j.e(b)}finally{j.f()}try{alert("Form saved successfully")}catch(O){alert("There is a problem in our servers, try again later")}}else alert("You need to add project name and details before saving")}(e)},children:[Object(d.jsx)(m,{jsonView:x}),Object(d.jsxs)("div",{className:"form",style:{display:x?"none":"block"},children:[Object(d.jsx)("label",{className:"label-block",children:"Name: "}),Object(d.jsx)("input",{className:"name-input",type:"text",required:!0,placeholder:"Enter your name",onBlur:function(e){return function(e){""===e.target.value?b("required"):b("")}(e)},onChange:function(e){return c(e.target.value)},value:r}),Object(d.jsx)("div",{className:"error-div",children:j}),Object(d.jsx)(p,{}),Object(d.jsxs)("p",{children:["Projects details"," ",Object(d.jsx)("button",{className:"project-details-button",type:"button",onClick:t,children:"\u2795"})]}),a.map((function(e){return Object(d.jsx)(v,{item:e},e)}))]}),Object(d.jsxs)("div",{className:"footer-button-div",children:[Object(d.jsx)("p",{className:"json-view-p",onClick:function(){return N(!x)},children:x?"Show form":"View form JSON"}),Object(d.jsxs)("div",{className:"form-actions",children:[Object(d.jsx)("button",{type:"button",children:"Cancel"}),Object(d.jsx)("input",{type:"submit",value:"Save"})]})]})]})})};var N=function(){return Object(d.jsx)(f,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{className:"h1-header",children:"User projects"}),Object(d.jsx)(x,{})]})})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),g()}},[[18,1,2]]]);
//# sourceMappingURL=main.551af708.chunk.js.map